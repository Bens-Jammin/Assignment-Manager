<!doctype html>

<html lang="en">
<head>
    <meta charset='UTF-8'/>
    <title>Assignment Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    <div class="topnav">
        <a class="active" href="#home">Assignment Info</a>
        <a href="#news">Class Schedule</a>
        <a href="#contact">Contact</a>
        <a href="#about">About</a>
    </div> 


    <div class="tables-container">
        <div class='assignment-table-container'>

            <div class='save-button'><form action="{{ url_for('save') }}" method="get">
                <button id="save-button" type="button">Save</button>
            </form></div>
            {{ assignments_table | safe }}
        </div>

        <div class="minor-table-container">
            <div class="grade-table-container">
                <p style="align-self: center"> GRADES </p>
                {{ grade_table | safe }}
            </div>    

            <div class="todo-table-container">
                <p style="align-self: center;"> TODO </p>
                {{ todo_table | safe }}
            </div>
        </div>
    </div>

    <!-- both used to handle save button press  --
      -- generated by Chat GPT 4                -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
    $(document).ready(function() {
        $('#save-button').click(function(e) {
            e.preventDefault();
            $.ajax({
                type: 'POST',
                url: '/save',
                // If you have data to send along with the request, include it here
                data: {}, 
                success: function(response) {
                    console.log(response);
                    // You can add code here to update the UI based on the response if needed
                },
                error: function(xhr, status, error) {
                    // Handle errors here
                    console.log(xhr.responseText);
                }
            });
        });
    });
    </script>
</body>

</html>